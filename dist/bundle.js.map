{"version":3,"sources":["webpack:///webpack/bootstrap ef3c992b89df8a2f3b92","webpack:///./src/get-teacher-name/fetchTeacherName.js","webpack:///./src/index.js","webpack:///./node_modules/process/browser.js","webpack:///./src/processPage.js","webpack:///./src/renderContent.js","webpack:///./src/get-teacher-name/fetchTeacherData.js"],"names":["fetchTeacherName","name","parsedName","encodeURIComponent","response","fetch","credentials","method","body","text","run","loop","setInterval","iframe","document","querySelector","iframeDocument","contentDocument","contentWindow","iframeContent","querySelectorAll","length","clearInterval","processPage","handleNavigation","pageContainer","window","setTimeout","observer","MutationObserver","mutations","mutation","console","log","addedNodes","observe","childList","attributes","process","env","NODE_ENV","doc","ttUnParsed","textContent","split","totalTeachers","parseInt","teacherArr","i","teach","button","bookStoreText","innerHTML","webBody","data","fetchTeacherData","li","createElement","className","innerText","appendChild","rmp","style","cssText","href","renderContent","num","idRegex","id","match","invalid","url","resp","json","undefined","ratings","averageRating","counter","forEach","comment","rOverall","Math","round","buttonLink","toString"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;AC7DA,MAAMA,mBAAmB,MAAOC,IAAP,IAAgB;AACrC,QAAIC,aAAaC,mBAAmBF,IAAnB,CAAjB;AACA,UAAMG,WAAW,MAAMC,MAAO,qDAAoDH,UAAW,EAAtE,EAAyE;AAC5FI,qBAAa,aAD+E;AAE5FC,gBAAQ;AAFoF,KAAzE,CAAvB;AAIA,QAAIC,OAAO,MAAMJ,SAASK,IAAT,EAAjB;AACA,WAAOD,IAAP;AACH,CARD;;AAUe,yDAAAR,gBAAf,E;;;;;;;ACVA;AAAA;AAAA;AACA;;AAEA,MAAMU,MAAM,MAAM;AAChB,MAAIC,OAAOC,YAAY,MAAM;AAC3B,QAAIC,SAASC,SAASC,aAAT,CAAuB,iBAAvB,CAAb;AACA,QAAIF,UAAU,IAAd,EAAoB;AAClB,UAAIG,iBAAiBH,OAAOI,eAAP,IAA0BJ,OAAOK,aAAP,CAAqBJ,QAApE;AACA;AACA,UAAIK,gBAAgBH,eAAeI,gBAAf,CAAgC,oBAAhC,CAApB;AACA,UAAID,iBAAiBA,cAAcE,MAAd,GAAuB,CAA5C,EAA+C;AAC7CC,sBAAcX,IAAd;AACA;AACAY,QAAA,qEAAWA,CAACP,cAAZ;AACD;AACF,KATD,MAUK;AACH;AACD;AACF,GAfU,EAeR,IAfQ,CAAX;AAgBD,CAjBD;;AAmBA,MAAMQ,mBAAmB,MAAM;AAC7B;AACA;AACA;AACA;AACA,QAAMC,gBAAgBX,SAASM,gBAAT,CAA0B,oBAA1B,CAAtB;AACA,MAAIJ,iBAAiBS,cAAcR,eAAd,IAAiCQ,cAAcP,aAAd,CAA4BJ,QAAlF;AACA,MAAI,CAACW,aAAD,IAAkBA,cAAcJ,MAAd,IAAwB,CAA9C,EAAiD;AAC/CK,WAAOC,UAAP,CAAkBH,gBAAlB,EAAmC,IAAnC;AACA;AACD;;AAED,QAAMI,WAAW,IAAIC,gBAAJ,CAAqBC,aAAa;AACjD,SAAK,MAAMC,QAAX,IAAuBD,SAAvB,EAAkC;AAChCE,cAAQC,GAAR,CAAYF,SAASG,UAAT,CAAoB,CAApB,CAAZ;AACE,UAAIH,SAASG,UAAT,CAAoBb,MAApB,GAA6B,CAAjC,EAAoC;AAClCW,gBAAQC,GAAR,CAAYjB,cAAZ;AACAgB,gBAAQC,GAAR,CAAYR,aAAZ;AACAF,QAAA,qEAAWA,CAACP,cAAZ;AACH;AACD;AACE;AACE;AACF;AACF;AACD;AACF,GAdgB,CAAjB;AAeAY,WAASO,OAAT,CAAiBV,cAAc,CAAd,CAAjB,EAAmC,EAAEW,WAAW,IAAb,EAAoBC,YAAY,IAAhC,EAAnC;AACD,CA5BD;;AA8BA,IAAI,CAACC,OAAD,IAAY,CAACA,QAAQC,GAArB,IAA4BD,QAAQC,GAAR,CAAYC,QAAZ,KAAyB,MAAzD,EAAiE;AAC/D9B;AACD;;AAEc,+DAAAA,GAAf,E;;;;;;;ACxDA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qCAAqC;;AAErC;AACA;AACA;;AAEA,2BAA2B;AAC3B;AACA;AACA;AACA,4BAA4B,UAAU;;;;;;;;ACvLtC;AAAA;AAAA;AAAA;AACA;AACA;;AAEA,MAAMa,cAAc,MAAOkB,GAAP,IAAe;AAC/B,QAAI5B,SAASC,SAASC,aAAT,CAAuB,iBAAvB,CAAb;AACA,QAAIC,iBAAiBH,OAAOI,eAAP,IAA0BJ,OAAOK,aAAP,CAAqBJ,QAApE;AACA;AACA,QAAI4B,aAAaD,IAAIrB,gBAAJ,CAAqB,cAArB,EAAqC,CAArC,EAAwCuB,WAAxC,CAAoDC,KAApD,CAA0D,GAA1D,EAA+D,CAA/D,CAAjB;AACA,QAAIC,gBAAgBC,SAASJ,UAAT,CAApB;AACA,QAAIK,aAAa,EAAjB;AACA,SAAI,IAAIC,IAAI,CAAZ,EAAeA,IAAIH,aAAnB,EAAkCG,GAAlC,EAAuC;AACnC,YAAI7B,gBAAgBH,eAAeI,gBAAf,CAAiC,kBAAiB4B,CAAE,IAApD,CAApB;AACA,YAAIC,QAAQR,IAAIrB,gBAAJ,CAAsB,kBAAiB4B,CAAE,IAAzC,CAAZ;AACA,YAAIE,SAAST,IAAIrB,gBAAJ,CAAsB,8BAA6B4B,CAAE,IAArD,CAAb;AACA,YAAIG,gBAAgBV,IAAIrB,gBAAJ,CAAsB,8BAA6B4B,CAAE,IAArD,CAApB;AACAG,sBAAc,CAAd,EAAiBC,SAAjB,GAA6B,iBAA7B;AACA;AACA,YAAInD,OAAOgD,MAAM,CAAN,EAASN,WAApB;AACA,YAAI1C,QAAQ,OAAZ,EAAqB;AACrB,YAAIoD,UAAU,MAAM,2FAAgBrD,CAACC,IAAjB,CAApB;AACA,YAAIqD,OAAO,MAAM,2FAAgBC,CAACF,OAAjB,CAAjB;AACArB,gBAAQC,GAAR,CAAYqB,IAAZ;AACA,cAAME,KAAK1C,SAAS2C,aAAT,CAAuB,GAAvB,CAAX;AACAD,WAAGE,SAAH,GAAe,SAAf;AACA,YAAIJ,KAAK,CAAL,CAAJ,EACIE,GAAGG,SAAH,GAAgB,WAAUL,KAAK,CAAL,CAAQ,IAAlC,CADJ,KAEKE,GAAGG,SAAH,GAAe,aAAf;AACL3B,gBAAQC,GAAR,CAAa,GAAEhC,IAAK,MAAKqD,KAAK,CAAL,CAAQ,MAAKA,KAAK,CAAL,CAAQ,EAA9C;AACAL,cAAM,CAAN,EAASW,WAAT,CAAqBJ,EAArB;AACA,cAAMK,MAAM/C,SAAS2C,aAAT,CAAuB,GAAvB,CAAZ;AACAI,YAAIH,SAAJ,GAAgB,aAAhB;AACAG,YAAIC,KAAJ,CAAUC,OAAV,GAAoB,iBAApB;AACAF,YAAIG,IAAJ,GAAWV,KAAK,CAAL,CAAX;AACA;AACI;AACA;AACA;AACJ;AACAO,YAAIF,SAAJ,GAAgB,cAAhB;AACAT,eAAO,CAAP,EAAUU,WAAV,CAAsBC,GAAtB;AACA;AACH;AACD;AACH,CAxCD;;AA0Ce,yDAAAtC,WAAf,E;;;;;;;AC9CA,MAAM0C,gBAAiBC,GAAD,IAAS;AAC3B,UAAMV,KAAK1C,SAAS2C,aAAT,CAAuB,IAAvB,CAAX;AACAD,OAAGE,SAAH,GAAe,SAAf;AACAF,OAAGJ,SAAH,GAAgB;eACLc,GAAI;KADf;AAGA,WAAOV,EAAP;AACH,CAPD;;AASe,0EAAAS,aAAf,E;;;;;;;ACTA;AAAA;;AAEA,MAAMV,mBAAmB,MAAO/C,IAAP,IAAgB;AACrC;AACA,QAAI2D,UAAU,qCAAd;AACA,QAAIC,KAAK5D,KAAK6D,KAAL,CAAWF,OAAX,CAAT;AACA,QAAIG,UAAU,KAAd;AACAF,UAAM,IAAN,GAAaE,UAAU,IAAvB,GAA8BF,KAAKA,GAAG,CAAH,CAAnC;AACA,QAAIE,OAAJ,EAAa,OAAO,KAAP;AACb,QAAIC,MAAO,oEAAmEH,EAAG,EAAjF;AACA,QAAII,OAAO,MAAMnE,MAAMkE,GAAN,EAAW;AACxBjE,qBAAa,aADW;AAExBC,gBAAQ;AAFgB,KAAX,CAAjB;AAKA,QAAI+C,OAAO,MAAMkB,KAAKC,IAAL,EAAjB;AACA,QAAInB,QAAQoB,SAAZ,EAAuB,OAAO,EAAP;AACvB;AACA,QAAIC,UAAUrB,KAAKqB,OAAnB;AACA,QAAIA,QAAQtD,MAAR,IAAkB,CAAtB,EAAyB,OAAO,KAAP;AACzB;AACA,QAAIuD,gBAAgB,CAApB;AACA,QAAIC,UAAU,CAAd;AACAF,YAAQG,OAAR,CAAiBC,OAAD,IAAa;AACzBH,yBAAiBG,QAAQC,QAAzB;AACH,KAFD;AAGAJ,oBAAgBK,KAAKC,KAAL,CAAW,OAAON,gBAAgBD,QAAQtD,MAA/B,CAAX,IAAqD,GAArE;AACA,QAAI8D,aAAc,wDAAuDf,EAAG,EAA5E;AACA,WAAO,CAACQ,cAAcQ,QAAd,EAAD,EAA2BD,UAA3B,CAAP;AACH,CA3BD;;AA6Be,yDAAA5B,gBAAf,E","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap ef3c992b89df8a2f3b92","const fetchTeacherName = async (name) => {\n    let parsedName = encodeURIComponent(name);\n    const response = await fetch(`https://www.ratemyprofessors.com/search.jsp?query=${parsedName}`, {\n        credentials: \"same-origin\",\n        method: 'get'\n    })\n    var body = await response.text();\n    return body;\n}\n\nexport default fetchTeacherName\n\n\n// WEBPACK FOOTER //\n// ./src/get-teacher-name/fetchTeacherName.js","// import processPage from './process-page'\nimport processPage from './processPage';\n\nconst run = () => {\n  var loop = setInterval(() => {\n    var iframe = document.querySelector('#ptifrmtgtframe');\n    if (iframe != null) {\n      var iframeDocument = iframe.contentDocument || iframe.contentWindow.document;\n      // var iframeContent = iframeDocument.querySelectorAll('[title=\"View Details\"]')[0].textContent;\n      var iframeContent = iframeDocument.querySelectorAll(\"[id='MTG_INSTR$0']\");\n      if (iframeContent && iframeContent.length > 0) {\n        clearInterval(loop);\n        // console.log(iframeContent[0].textContent)\n        processPage(iframeDocument);\n      }\n    }\n    else {\n      // console.log(iframeContent);\n    }\n  }, 2500);\n}\n\nconst handleNavigation = () => {\n  // const pageContainer = document.getElementById('js-repo-pjax-container')\n  // var iframe = document.querySelector('#ptifrmtgtframe');\n  // var iframe = document.getElementById('ptifrmtgtframe');\n  // var iframeDocument = iframe.contentDocument || iframe.contentWindow.document;\n  const pageContainer = document.querySelectorAll(\"[id='MTG_INSTR$0']\");\n  var iframeDocument = pageContainer.contentDocument || pageContainer.contentWindow.document;\n  if (!pageContainer || pageContainer.length == 0) {\n    window.setTimeout(handleNavigation,1000);\n    return;\n  }\n\n  const observer = new MutationObserver(mutations => {\n    for (const mutation of mutations) {\n      console.log(mutation.addedNodes[0])\n        if (mutation.addedNodes.length > 0) {\n          console.log(iframeDocument)\n          console.log(pageContainer)\n          processPage(iframeDocument);\n      }\n      // for (const addedNode of mutation.addedNodes) {\n        // if (addedNode.classList.contains('pagehead')) {\n          // break\n        // }\n      // }\n    }\n  })\n  observer.observe(pageContainer[0], { childList: true , attributes: true})\n}\n\nif (!process || !process.env || process.env.NODE_ENV !== 'test') {\n  run()\n}\n\nexport default run\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/process/browser.js\n// module id = 2\n// module chunks = 0","import renderContent from './renderContent';\nimport fetchTeacherName from './get-teacher-name/fetchTeacherName';\nimport fetchTeacherData from './get-teacher-name/fetchTeacherData';\n\nconst processPage = async (doc) => {\n    var iframe = document.querySelector('#ptifrmtgtframe');\n    var iframeDocument = iframe.contentDocument || iframe.contentWindow.document;\n    // console.log(doc);\n    var ttUnParsed = doc.querySelectorAll(\".SSSGROUPBOX\")[0].textContent.split(' ')[0];\n    var totalTeachers = parseInt(ttUnParsed);\n    var teacherArr = [];\n    for(let i = 0; i < totalTeachers; i++) {\n        var iframeContent = iframeDocument.querySelectorAll(`[id=\"MTG_INSTR$${i}\"]`);\n        var teach = doc.querySelectorAll(`[id=\"MTG_INSTR$${i}\"]`);\n        var button = doc.querySelectorAll(`[id=\"win0divBOOKSTORE_LINK$${i}\"]`);\n        var bookStoreText = doc.querySelectorAll(`[id=\"SSR_CLSRCH_MTG1$srt12$${i}\"]`);\n        bookStoreText[0].innerHTML = \"RateMyProfessor\"\n        // SSR_CLSRCH_MTG1$srt12$ \n        var name = teach[0].textContent;\n        if (name == \"Staff\") continue;\n        var webBody = await fetchTeacherName(name);\n        var data = await fetchTeacherData(webBody);\n        console.log(data)\n        const li = document.createElement('p')\n        li.className = \"ratings\";\n        if (data[0])\n            li.innerText = `rating: ${data[0]}/5`  ;\n        else li.innerText = 'unavailable'\n        console.log(`${name} : ${data[0]} : ${data[1]}`)\n        teach[0].appendChild(li)\n        const rmp = document.createElement('a')\n        rmp.className = \"PSHYPERLINK\";\n        rmp.style.cssText = 'margin-top:10px';\n        rmp.href = data[1]\n        // rmp.onclick = function() {\n            // console.log(btlink)\n            // var tabOrWindow = window.open(btlink, '_blank');\n            // tabOrWindow.focus();\n        // }\n        rmp.innerText = \"open profile\";\n        button[0].appendChild(rmp);\n        // teacherArr.push(school);\n    }\n    // console.log(teacherArr)\n}\n\nexport default processPage\n\n\n// WEBPACK FOOTER //\n// ./src/processPage.js","const renderContent = (num) => {\n    const li = document.createElement('li')\n    li.className = \"ratings\";\n    li.innerHTML = `\n        <li> ${num} </li>\n    `\n    return li\n}\n\nexport default renderContent;\n\n\n// WEBPACK FOOTER //\n// ./src/renderContent.js","import fetchTeacherName from './fetchTeacherName';\n\nconst fetchTeacherData = async (body) => {\n    //add school detection\n    var idRegex = /(?<=ShowRatings.jsp\\?tid=)(.*)(?=\")/;\n    var id = body.match(idRegex);\n    var invalid = false\n    id == null ? invalid = true : id = id[0];\n    if (invalid) return false;\n    var url = `https://www.ratemyprofessors.com/paginate/professors/ratings?tid=${id}`\n    let resp = await fetch(url, {\n        credentials: \"same-origin\",\n        method: 'get',\n        }\n    )\n    let data = await resp.json();\n    if (data == undefined) return '';\n    // let parsed = JSON.parse(data);\n    let ratings = data.ratings;\n    if (ratings.length == 0) return false\n    // let rating = ratings[0].rOverallString;\n    let averageRating = 0;\n    let counter = 0;\n    ratings.forEach((comment) => {\n        averageRating += comment.rOverall;\n    })\n    averageRating = Math.round(100 * (averageRating / ratings.length)) / 100;\n    var buttonLink = `https://www.ratemyprofessors.com/ShowRatings.jsp?tid=${id}`;\n    return [averageRating.toString(), buttonLink];\n} \n\nexport default fetchTeacherData;\n\n\n// WEBPACK FOOTER //\n// ./src/get-teacher-name/fetchTeacherData.js"],"sourceRoot":""}